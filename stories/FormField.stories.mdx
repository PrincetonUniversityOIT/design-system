import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { html } from 'lit-html';
import { PrincetonDesignCombobox } from '../dist/index.js';
import { PrincetonDesignAutocomplete } from '../dist/index.js';
// import { action } from '@storybook/addon-actions';

<Meta title="Components/Form Field" component="FormField" />

export const Template = (args) => html`
    <div class="puds-form-field">
        <label for="my-input">${ args.label }</label>
        <input class="puds-input" id="my-input" type="text" placeholder="Placeholder" value="${ args.value }" />
    </div>
    <div class="puds-form-field">
        <label for="my-input2">${ args.label } - Focused</label>
        <input class="puds-input puds-focus" id="my-input2" type="text" placeholder="Placeholder" value="${ args.value }" />
    </div>
    <div class="puds-form-field--error">
        <label for="my-input3">${ args.label } - With Error</label>
        <span class="puds-form-field-error-msg" id="my-input3-msg" role="alert">Clear and brief error message</span>
        <input class="puds-input puds-input--error" id="my-input3" type="text" placeholder="Placeholder" value="${ args.value }" aria-describedby="my-input3-msg" />
    </div>
    <div class="puds-form-field">
        <label for="my-input4">${ args.label } - With Hint</label>
        <span class="puds-form-field-msg" id="my-input4-msg">Provide a helpful hint about the field</span>
        <input class="puds-input" id="my-input4" type="text" placeholder="Placeholder" required value="${ args.value }" aria-describedby="my-input4-msg" />
    </div>
    <div class="puds-form-field">
        <label for="my-input5">${ args.label }<span class="puds-form-field-required" aria-hidden="true">*</span></label>
        <input class="puds-input" id="my-input5" type="text" placeholder="Placeholder" required value="${ args.value }" required />
    </div>
`;

# Form Field

The Form Field is a grouping of a label, form input, and optional message (error or otherwise).

## Design Guidelines

* Labels must be associated with their corresponding form input (input, select, textarea, etc...) by setting the "id"
  attribute on the input and setting a matching value in the "for" attribute of the label.
* If hint text or an error message is provided, use the "aria-describedby" attribute to ensure that the hint/message
  is read by the screen reader when the form field obtains focus.
* Hint text and error messages associated with a form field have been kept in close proximity to the form fields, 
  and are visually aligned to help indicate that they are related to the input.
* Error messages are given the role of "alert", in particular in cases where that message might be dynamically changed.
  "Screen readers will instantly start reading out the updated content when the role is added." (https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Alert_Role)
  If hint messages will change dynamically, it is worth considering setting their role to alert also.  Otherwise,
  they should not have a role of alert.
* Placeholder text should not contain instructional information because it disappears once content is entered into the
  field.
* Placeholder text should not be used as a replacement for a label.

## TODO

* Form fields that are focused and have an error need improved color palette or improved focus indicator.
* The formatting has been taken from designsystem.digital.gov and should be given a more "Princeton" theme.

<Canvas>
    <Story name="Basic" args={{
        label: "Field Label",
        value: ""
    }}>
      {Template.bind({})}
    </Story>
</Canvas>
